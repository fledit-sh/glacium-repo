#!/usr/bin/env bash
# -----------------------------------------------------
# POINTWISE.run_pointwise.sh.j2 – WSL compatible, no cygpath dependency
# -----------------------------------------------------

set -euo pipefail

# Pointwise executable – path for WSL
POINTWISE_EXEC="/mnt/c/Program Files/Cadence/FidelityPointwise2023.2.3/win64/bin/tclsh.exe"

# process all .glf files in the current directory
for glf in *.glf; do
    if [[ -f "$glf" ]]; then
        echo "▶ Running Pointwise in batch mode with $glf ..."
        "$POINTWISE_EXEC" "$glf"
        echo "▶  $glf finished"
        echo ""
    fi
done

echo "▶ All GLF scripts processed successfully."
