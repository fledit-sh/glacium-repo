#!/usr/bin/env bash
# -----------------------------
# run_xfoil.sh – automatic XFOIL run with .in file
# -----------------------------

set -euo pipefail

# path to xfoil.exe (adjust if necessary)
XFOIL="../../xfoil/xfoil.exe"

# first input script
INPUT="increasepoints.in"
OUTPUT="${INPUT%.in}.out"

if [[ ! -f "$INPUT" ]]; then
    echo "▶ Input file $INPUT not found."
    exit 1
fi

echo "▶ Running XFOIL with $INPUT ..."
"$XFOIL" < "$INPUT" > "$OUTPUT"
echo "▶ Done. Output in $OUTPUT"

# second input script
INPUT="thickenTE.in"
OUTPUT="${INPUT%.in}.out"

if [[ ! -f "$INPUT" ]]; then
    echo "▶ Input file $INPUT not found."
    exit 1
fi

echo "▶ Running XFOIL with $INPUT ..."
"$XFOIL" < "$INPUT" > "$OUTPUT"
echo "▶ Done. Output in $OUTPUT"